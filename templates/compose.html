{% extends 'base.html' %}
{% block content %}
<h2>âœ‰ï¸ Compose New Message</h2>

<form method="post">
  <div class="form-group">
    <label for="recipient">Send To</label>
    <select name="recipient" id="recipient" required>
      <option value="">-- Select recipient --</option>
      {% for u in users %}
        <option value="{{ u }}">{{ u }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="form-group">
    <label for="key">Encryption Key (shared secret)</label>
    <input type="text" name="key" id="key" placeholder="e.g., SECRET" value="SECRET">
    <small style="color: #666; display: block; margin-top: 6px;">
      Both parties must use the same key to decrypt. Default: SECRET
    </small>
  </div>

  <div class="form-group">
    <label for="message">Message</label>
    <textarea name="message" id="message" rows="7" required placeholder="Type your message here..."></textarea>
    <small style="color: #666; display: block; margin-top: 6px;">
      Message will be encrypted using Playfair + Columnar Transposition ciphers
    </small>
  </div>

  <button type="submit">ğŸ”’ Send Encrypted Message</button>
</form>

{% endblock %}
